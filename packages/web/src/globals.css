@import "tailwindcss";

/*
 * Pok√©Ralph Theme Configuration
 * 
 * Skeuomorphic Game Boy Design System
 * 
 * Three zones:
 * - Shell: Gray plastic (sidebar, header) - DMG Game Boy gray
 * - Screen: Neutral (main content) - clean, modern feel
 * - Battle: Game Boy green LCD (battle view only) - retro Pokemon feel
 */

/* ===== Font Variables ===== */
@theme {
  /* Pixel fonts for retro aesthetic */
  --font-pixel: "Press Start 2P", monospace;
  --font-pixel-readable: "VT323", monospace;
  
  /* Border radius - slightly rounded for skeuomorphic feel */
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-xl: 12px;
  --radius-2xl: 16px;
  --radius-full: 9999px;
}

@layer base {
  :root {
    /* ===== Shell Colors (Sidebar, Header - Gray Plastic) ===== */
    --shell-bg: 240 5% 78%;           /* #c8c8c8 DMG gray */
    --shell-light: 240 5% 88%;        /* Highlight */
    --shell-dark: 240 5% 60%;         /* Shadow */
    --shell-darker: 240 5% 45%;       /* Deep shadow */
    --shell-border: 240 5% 50%;       /* Edge color */
    --shell-fg: 240 5% 20%;           /* Text on shell */
    
    /* ===== Screen Colors (Main Content - Neutral) ===== */
    --screen-bg: 220 15% 95%;         /* Slight blue-gray tint */
    --screen-fg: 220 15% 15%;         /* Dark text */
    --screen-card: 0 0% 100%;         /* White cards */
    --screen-muted: 220 10% 90%;      /* Muted background */
    --screen-muted-fg: 220 10% 45%;   /* Muted text */
    --screen-border: 220 10% 80%;     /* Subtle borders */
    
    /* ===== Battle Colors (Game Boy Green LCD) ===== */
    --battle-bg: 72 85% 40%;          /* #9bbc0f - Game Boy green */
    --battle-fg: 120 60% 14%;         /* #0f380f - Dark green */
    --battle-card: 72 85% 37%;        /* #8bac0f - Medium green */
    --battle-muted: 72 60% 35%;       /* Darker green */
    --battle-border: 120 60% 14%;     /* Dark green border */
    
    /* ===== Semantic Colors ===== */
    --background: var(--screen-bg);
    --foreground: var(--screen-fg);
    --card: var(--screen-card);
    --card-foreground: var(--screen-fg);
    --popover: var(--screen-card);
    --popover-foreground: var(--screen-fg);
    
    /* Primary: Purple accent (Game Boy Color) */
    --primary: 270 50% 45%;
    --primary-foreground: 0 0% 100%;

    /* Secondary: Shell gray */
    --secondary: var(--shell-bg);
    --secondary-foreground: var(--shell-fg);

    /* Muted */
    --muted: var(--screen-muted);
    --muted-foreground: var(--screen-muted-fg);

    /* Accent: Game Boy teal-ish */
    --accent: 180 30% 45%;
    --accent-foreground: 0 0% 100%;

    /* Destructive: Red */
    --destructive: 0 70% 50%;
    --destructive-foreground: 0 0% 100%;

    /* Success: Green */
    --success: 120 45% 40%;
    --success-foreground: 0 0% 100%;

    /* Warning: Amber */
    --warning: 40 90% 50%;
    --warning-foreground: 0 0% 10%;

    /* Borders & inputs */
    --border: var(--screen-border);
    --input: var(--screen-border);
    --ring: var(--primary);

    /* Chart colors */
    --chart-1: 270 50% 45%;
    --chart-2: 180 30% 45%;
    --chart-3: 120 45% 40%;
    --chart-4: 0 70% 50%;
    --chart-5: 40 90% 50%;

    /* Sidebar uses shell colors */
    --sidebar-background: var(--shell-bg);
    --sidebar-foreground: var(--shell-fg);
    --sidebar-primary: var(--primary);
    --sidebar-primary-foreground: var(--primary-foreground);
    --sidebar-accent: var(--shell-light);
    --sidebar-accent-foreground: var(--shell-fg);
    --sidebar-border: var(--shell-dark);
    --sidebar-ring: var(--primary);
  }

  /* Dark mode */
  .dark {
    /* Shell stays similar but slightly darker */
    --shell-bg: 240 5% 25%;
    --shell-light: 240 5% 35%;
    --shell-dark: 240 5% 15%;
    --shell-darker: 240 5% 10%;
    --shell-border: 240 5% 20%;
    --shell-fg: 240 5% 90%;
    
    /* Screen goes dark */
    --screen-bg: 220 15% 10%;
    --screen-fg: 220 10% 90%;
    --screen-card: 220 15% 15%;
    --screen-muted: 220 10% 18%;
    --screen-muted-fg: 220 10% 60%;
    --screen-border: 220 10% 25%;
    
    /* Battle colors stay vibrant */
    --battle-bg: 72 85% 35%;
    --battle-fg: 72 85% 75%;
    --battle-card: 72 70% 25%;
    --battle-muted: 72 50% 20%;
    --battle-border: 72 60% 50%;
    
    /* Update semantic colors */
    --background: var(--screen-bg);
    --foreground: var(--screen-fg);
    --card: var(--screen-card);
    --card-foreground: var(--screen-fg);
    --popover: var(--screen-card);
    --popover-foreground: var(--screen-fg);
    --muted: var(--screen-muted);
    --muted-foreground: var(--screen-muted-fg);
    --border: var(--screen-border);
    --input: var(--screen-border);
    
    /* Sidebar */
    --sidebar-background: var(--shell-bg);
    --sidebar-foreground: var(--shell-fg);
    --sidebar-accent: var(--shell-light);
    --sidebar-accent-foreground: var(--shell-fg);
    --sidebar-border: var(--shell-dark);
  }
}

/* ===== Base Styles ===== */
@layer base {
  * {
    @apply border-[hsl(var(--border))];
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-[hsl(var(--shell-bg))] text-[hsl(var(--foreground))];
    font-family: "Press Start 2P", monospace;
    font-size: 10px;
    line-height: 1.8;
    /* Keep pixel fonts crispy */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Use VT323 for larger, more readable text blocks */
  p, .text-readable {
    font-family: "VT323", monospace;
    font-size: 18px;
    line-height: 1.4;
  }

  /* Headings stay pixel font but larger */
  h1, h2, h3, h4, h5, h6 {
    font-family: "Press Start 2P", monospace;
    line-height: 1.6;
  }

  h1 { font-size: 14px; }
  h2 { font-size: 12px; }
  h3 { font-size: 11px; }
  h4, h5, h6 { font-size: 10px; }

  /* Buttons and interactive elements */
  button, [role="button"], input, select, textarea {
    font-family: "Press Start 2P", monospace;
    font-size: 9px;
  }

  /* Links */
  a {
    text-decoration: none;
  }
  a:hover {
    text-decoration: underline;
  }
}

/* ===== Retro Shadow Utilities ===== */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Pixel-perfect hard shadows */
  .shadow-retro {
    box-shadow: 4px 4px 0 hsl(var(--border));
  }

  .shadow-retro-sm {
    box-shadow: 2px 2px 0 hsl(var(--border));
  }

  .shadow-retro-lg {
    box-shadow: 6px 6px 0 hsl(var(--border));
  }

  /* Inset shadow for pressed state */
  .shadow-retro-inset {
    box-shadow: inset 2px 2px 0 hsl(var(--border));
  }

  /* Readable font utility */
  .font-readable {
    font-family: "VT323", monospace;
    font-size: 16px;
  }

  /* Pixel font utility */
  .font-pixel {
    font-family: "Press Start 2P", monospace;
  }
}

/* ===== Shadow utilities ===== */
.shadow-shell {
  box-shadow: 
    0 4px 0 hsl(var(--shell-darker)),
    0 6px 12px rgba(0, 0, 0, 0.2);
}

.shadow-inset {
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* ===== Smooth transitions for skeuomorphic feel ===== */
.transition-press {
  transition: transform 0.1s ease, box-shadow 0.1s ease;
}

/* Allow animations */
.animate-spin {
  animation: spin 1s linear infinite;
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-bounce {
  animation: bounce 1s infinite;
}

/* ===== Animations (kept for specific use cases) ===== */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

@keyframes pulse {
  50% {
    opacity: 0.5;
  }
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(-25%);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }
  50% {
    transform: translateY(0);
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}

/* ===== Skeuomorphic Shell Styles ===== */

/* Plastic texture - subtle noise pattern */
.shell-plastic {
  background: 
    linear-gradient(
      135deg,
      hsl(var(--shell-light)) 0%,
      hsl(var(--shell-bg)) 30%,
      hsl(var(--shell-bg)) 70%,
      hsl(var(--shell-dark)) 100%
    );
  /* Subtle plastic grain texture */
  background-color: hsl(var(--shell-bg));
}

/* Raised 3D element - for navigation items, buttons on shell */
.shell-raised {
  background: linear-gradient(
    to bottom,
    hsl(var(--shell-light)) 0%,
    hsl(var(--shell-bg)) 50%,
    hsl(var(--shell-dark)) 100%
  );
  border: 2px solid hsl(var(--shell-border));
  border-radius: 6px;
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.4),
    0 3px 0 hsl(var(--shell-darker)),
    0 4px 8px rgba(0, 0, 0, 0.25);
}

/* Pressed state for shell elements */
.shell-pressed {
  background: linear-gradient(
    to bottom,
    hsl(var(--shell-dark)) 0%,
    hsl(var(--shell-bg)) 100%
  );
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.3),
    0 1px 0 hsl(var(--shell-darker));
  transform: translateY(2px);
}

/* Recessed groove in shell - for screen bezel */
.shell-groove {
  background: hsl(var(--shell-darker));
  border-radius: 8px;
  box-shadow: 
    inset 0 2px 6px rgba(0, 0, 0, 0.4),
    inset 0 1px 2px rgba(0, 0, 0, 0.2);
  padding: 8px;
}

/* ===== Screen Area (Neutral Main Content) ===== */

.screen-area {
  background: hsl(var(--screen-bg));
  border-radius: 4px;
  box-shadow: 
    inset 0 2px 8px rgba(0, 0, 0, 0.1),
    inset 0 0 2px rgba(0, 0, 0, 0.1);
}

/* ===== Battle LCD Screen (Game Boy Green) ===== */

.battle-lcd {
  position: relative;
  background: hsl(var(--battle-bg));
  border: 4px solid hsl(120 60% 10%);
  border-radius: 4px;
  box-shadow: 
    inset 0 0 30px rgba(0, 0, 0, 0.15),
    inset 0 0 4px rgba(0, 0, 0, 0.3),
    0 2px 8px rgba(0, 0, 0, 0.2);
  color: hsl(var(--battle-fg));
}

/* LCD scanline overlay */
.battle-lcd::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 2px,
    rgba(0, 0, 0, 0.04) 2px,
    rgba(0, 0, 0, 0.04) 4px
  );
  border-radius: 2px;
}

/* Battle-specific card styling */
.battle-card {
  background: hsl(var(--battle-card));
  border: 3px solid hsl(var(--battle-fg));
  box-shadow: 3px 3px 0 hsl(var(--battle-fg));
  color: hsl(var(--battle-fg));
}

/* Battle dialog box with corner decorations */
.battle-dialog {
  position: relative;
  background: hsl(var(--battle-card));
  border: 4px solid hsl(var(--battle-fg));
  padding: 16px 20px;
}

.battle-dialog::before,
.battle-dialog::after {
  content: "";
  position: absolute;
  width: 8px;
  height: 8px;
  border: 3px solid hsl(var(--battle-fg));
  background: hsl(var(--battle-card));
}

.battle-dialog::before {
  bottom: -2px;
  left: -2px;
  border-right: none;
  border-top: none;
}

.battle-dialog::after {
  bottom: -2px;
  right: -2px;
  border-left: none;
  border-top: none;
}

/* Pokeball indicator (for party/progress) */
.pokeball-indicator {
  width: 12px;
  height: 12px;
  border-radius: 50% !important;
  border: 2px solid hsl(var(--battle-fg));
  background: linear-gradient(
    to bottom,
    hsl(3 74% 55%) 0%,
    hsl(3 74% 55%) 45%,
    hsl(var(--battle-fg)) 45%,
    hsl(var(--battle-fg)) 55%,
    hsl(0 0% 95%) 55%,
    hsl(0 0% 95%) 100%
  );
}

.pokeball-indicator.empty {
  background: linear-gradient(
    to bottom,
    hsl(72 40% 60%) 0%,
    hsl(72 40% 60%) 45%,
    hsl(var(--battle-fg)) 45%,
    hsl(var(--battle-fg)) 55%,
    hsl(72 85% 70%) 55%,
    hsl(72 85% 70%) 100%
  );
  opacity: 0.5;
}

.pokeball-indicator.success {
  background: linear-gradient(
    to bottom,
    hsl(120 50% 35%) 0%,
    hsl(120 50% 35%) 45%,
    hsl(var(--battle-fg)) 45%,
    hsl(var(--battle-fg)) 55%,
    hsl(120 50% 60%) 55%,
    hsl(120 50% 60%) 100%
  );
}

/* HP Bar for battle view */
.battle-hp-bar {
  height: 8px;
  background: hsl(var(--battle-card));
  border: 2px solid hsl(var(--battle-fg));
}

.battle-hp-bar-fill {
  height: 100%;
  background: hsl(120 60% 30%);
}

.battle-hp-bar-fill.warning {
  background: hsl(45 80% 45%);
}

.battle-hp-bar-fill.danger {
  background: hsl(0 70% 45%);
}

/* ===== Scanline overlay effect (optional) ===== */
.scanlines::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.02) 2px,
    rgba(0, 0, 0, 0.02) 4px
  );
}

/* ===== Pixel cursor (optional enhancement) ===== */
.cursor-pixel {
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16'%3E%3Crect x='0' y='0' width='4' height='4' fill='%231a1a1a'/%3E%3Crect x='4' y='4' width='4' height='4' fill='%231a1a1a'/%3E%3Crect x='8' y='8' width='4' height='4' fill='%231a1a1a'/%3E%3C/svg%3E"), auto;
}

/* ===== Responsive Typography ===== */
@media (max-width: 640px) {
  body {
    font-size: 8px;
  }

  h1 { font-size: 11px; }
  h2 { font-size: 10px; }
  h3 { font-size: 9px; }
  h4, h5, h6 { font-size: 8px; }

  button, [role="button"], input, select, textarea {
    font-size: 8px;
  }

  p, .text-readable {
    font-size: 14px;
  }

  .font-readable {
    font-size: 14px;
  }
}

/* ===== Mobile-specific utilities ===== */
@media (max-width: 640px) {
  /* Hide text on mobile, show only on sm+ */
  .hide-text-mobile span:not(.sr-only) {
    display: none;
  }

  /* Reduce padding on mobile */
  .p-6 {
    padding: 1rem;
  }

  /* Reduce gaps on mobile */
  .gap-4 {
    gap: 0.5rem;
  }

  .gap-3 {
    gap: 0.375rem;
  }
}
